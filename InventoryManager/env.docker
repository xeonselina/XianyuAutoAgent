# 库存管理系统Docker环境配置
# 此文件包含Docker环境所需的环境变量

# =============================================================================
# 应用基础配置
# =============================================================================
FLASK_ENV=production
FLASK_APP=app.py
SECRET_KEY=your-secret-key-change-in-production
API_KEY=your-api-key-change-in-production

# =============================================================================
# 数据库配置 - Docker环境
# =============================================================================
# Docker Compose中的MySQL服务
DATABASE_URL=mysql+pymysql://inventory_user:inventory_pass@mysql:3306/inventory_management

# =============================================================================
# Redis配置 - Docker环境
# =============================================================================
# Docker Compose中的Redis服务
REDIS_URL=redis://redis:6379/0

# =============================================================================
# 日志配置
# =============================================================================
LOG_LEVEL=INFO
LOG_FILE=logs/inventory_service.log

# =============================================================================
# 安全配置 - Docker环境
# =============================================================================
SESSION_COOKIE_SECURE=false
SESSION_COOKIE_HTTPONLY=true
SESSION_COOKIE_SAMESITE=Lax

# 跨域配置
CORS_ORIGINS=*

# =============================================================================
# 业务配置
# =============================================================================
DEFAULT_RENTAL_DAYS=7
MAX_RENTAL_DAYS=30
MIN_ADVANCE_BOOKING_DAYS=1
TIMEZONE=Asia/Shanghai

# =============================================================================
# 文件上传配置
# =============================================================================
MAX_CONTENT_LENGTH=16777216
UPLOAD_FOLDER=uploads

# =============================================================================
# 缓存配置
# =============================================================================
CACHE_TYPE=redis
CACHE_DEFAULT_TIMEOUT=300

# =============================================================================
# 分页配置
# =============================================================================
POSTS_PER_PAGE=20

# =============================================================================
# 数据库连接池配置
# =============================================================================
DB_POOL_SIZE=10
DB_POOL_RECYCLE=3600
DB_POOL_PRE_PING=true

# =============================================================================
# 应用端口配置
# =============================================================================
APP_PORT=5002
APP_HOST=0.0.0.0

# =============================================================================
# Docker环境特殊配置
# =============================================================================
# 禁用调试模式
DEBUG=false

# 禁用SQL查询日志
SQLALCHEMY_ECHO=false

# 健康检查配置
HEALTH_CHECK_ENABLED=true
HEALTH_CHECK_TIMEOUT=30

# =============================================================================
# 容器健康检查配置
# =============================================================================
# 健康检查端点
HEALTH_CHECK_URL=http://localhost:5000/health

# 健康检查间隔
HEALTH_CHECK_INTERVAL=30s

# 健康检查超时
HEALTH_CHECK_TIMEOUT=10s

# 健康检查重试次数
HEALTH_CHECK_RETRIES=3

# 健康检查启动等待时间
HEALTH_CHECK_START_PERIOD=40s

# =============================================================================
# 网络配置
# =============================================================================
# 容器网络名称
NETWORK_NAME=inventory_network

# 服务发现配置
SERVICE_DISCOVERY_ENABLED=true

# =============================================================================
# 存储配置
# =============================================================================
# 数据卷挂载路径
DATA_VOLUME_PATH=/app/data

# 日志卷挂载路径
LOG_VOLUME_PATH=/app/logs

# 上传文件卷挂载路径
UPLOAD_VOLUME_PATH=/app/uploads

# =============================================================================
# 监控配置
# =============================================================================
# 启用容器监控
CONTAINER_MONITORING_ENABLED=true

# 启用应用指标收集
METRICS_COLLECTION_ENABLED=true

# 监控端口
METRICS_PORT=9090
