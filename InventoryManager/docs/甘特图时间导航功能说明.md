# 甘特图时间导航功能说明

## 功能概述

修复后的甘特图页面现在支持灵活的时间导航，可以跨越月份边界显示租赁时间，解决了原来只显示单个月份的问题。

## 主要功能

### 1. 时间导航按钮

- **上月/下月**: 导航到上个月或下个月，显示整月时间范围
- **上周/下周**: 导航到上周或下周，显示7天时间范围
- **今天**: 回到今天，默认显示30天时间范围（今天前后15天）

### 2. 快速时间范围设置

- **7天**: 显示7天时间范围
- **14天**: 显示14天时间范围  
- **30天**: 显示30天时间范围（默认）
- **60天**: 显示60天时间范围
- **90天**: 显示90天时间范围

### 3. 跨越月份显示

现在甘特图可以正确显示跨越月份的时间范围，例如：
- 8月第二周 - 9月第二周
- 8月25日 - 9月10日
- 12月20日 - 1月15日

## 使用方法

### 基本导航

1. 点击"上月"按钮：显示上个月整月
2. 点击"上周"按钮：显示上周7天
3. 点击"今天"按钮：回到今天，显示30天范围
4. 点击"下周"按钮：显示下周7天
5. 点击"下月"按钮：显示下个月整月

### 快速设置时间范围

1. 点击"7天"按钮：显示7天时间范围
2. 点击"30天"按钮：显示30天时间范围
3. 点击"90天"按钮：显示90天时间范围

### 时间范围显示

页面顶部会显示当前的时间范围，格式如下：
- 同月：`2024年8月1日 - 31日 (共31天)`
- 跨月：`2024年8月25日 - 9月10日 (共17天)`
- 跨年：`2024年12月20日 - 2025年1月15日 (共27天)`

## 技术实现

### 核心方法

- `setupDateRange30Days()`: 设置30天时间范围
- `setupWeekRange(weekOffset)`: 设置周时间范围
- `navigateToMonth(monthOffset)`: 导航到指定月份
- `navigateToWeek(weekOffset)`: 导航到指定周
- `navigateToDays(days)`: 设置指定天数的时间范围

### 时间计算

- 周导航：以周日为周开始，周六为周结束
- 月导航：显示整月（1号到月末）
- 天数导航：以今天为中心，前后平均分配天数

## 解决的问题

1. **原来问题**: 页面只显示8月1-31日，无法跨越月份
2. **现在解决**: 支持任意时间范围，可以跨越月份边界
3. **导航功能**: 上月、上周、下周、下月按钮现在完全可用
4. **灵活显示**: 支持7天到90天的灵活时间范围设置

## 注意事项

1. 时间范围越大，页面加载的数据越多，性能可能受影响
2. 建议根据实际需要选择合适的时间范围
3. 跨越月份时，甘特图会正确显示所有日期列
4. 租赁记录会正确显示在对应的时间段内

## 未来改进

1. 添加自定义时间范围选择器
2. 支持按季度、按年等更大时间单位导航
3. 添加时间范围记忆功能
4. 优化大数据量下的性能表现
