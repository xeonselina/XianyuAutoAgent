# åº“å­˜ç®¡ç†æœåŠ¡å¯åŠ¨è¯´æ˜

## ğŸš€ å¿«é€Ÿå¼€å§‹

### æ–¹å¼1ï¼šä½¿ç”¨å¯åŠ¨è„šæœ¬ï¼ˆæ¨èï¼‰

1. **ç»™å¯åŠ¨è„šæœ¬æ‰§è¡Œæƒé™**
```bash
chmod +x start.sh
```

2. **è¿è¡Œå¯åŠ¨è„šæœ¬**
```bash
./start.sh
```

å¯åŠ¨è„šæœ¬ä¼šè‡ªåŠ¨ï¼š
- æ£€æŸ¥Pythonç‰ˆæœ¬
- å®‰è£…ä¾èµ–
- åˆ›å»ºç¯å¢ƒé…ç½®æ–‡ä»¶
- æ£€æŸ¥æ•°æ®åº“è¿æ¥
- åˆå§‹åŒ–æ•°æ®åº“
- å¡«å……ç¤ºä¾‹æ•°æ®
- å¯åŠ¨æœåŠ¡

### æ–¹å¼2ï¼šæ‰‹åŠ¨å¯åŠ¨

1. **å®‰è£…ä¾èµ–**
```bash
pip install -r requirements.txt
```

2. **é…ç½®ç¯å¢ƒå˜é‡**
```bash
cp .env.example .env
# ç¼–è¾‘.envæ–‡ä»¶ï¼Œè®¾ç½®æ•°æ®åº“è¿æ¥ä¿¡æ¯
```

3. **åˆå§‹åŒ–æ•°æ®åº“**
```bash
python -m flask init-db
```

4. **å¡«å……ç¤ºä¾‹æ•°æ®**
```bash
python -m flask seed-data
```

5. **å¯åŠ¨æœåŠ¡**
```bash
python app.py
```

## ğŸ³ Dockeréƒ¨ç½²

### ä½¿ç”¨Docker Composeï¼ˆæ¨èï¼‰

1. **å¯åŠ¨æ‰€æœ‰æœåŠ¡**
```bash
docker-compose up -d
```

2. **æŸ¥çœ‹æœåŠ¡çŠ¶æ€**
```bash
docker-compose ps
```

3. **æŸ¥çœ‹æ—¥å¿—**
```bash
docker-compose logs -f app
```

4. **åœæ­¢æœåŠ¡**
```bash
docker-compose down
```

### æ‰‹åŠ¨æ„å»ºDockeré•œåƒ

1. **æ„å»ºé•œåƒ**
```bash
docker build -t inventory-management .
```

2. **è¿è¡Œå®¹å™¨**
```bash
docker run -d \
  --name inventory-app \
  -p 5000:5000 \
  -e DATABASE_URL=mysql+pymysql://user:pass@host:3306/db \
  inventory-management
```

## ğŸ—„ï¸ æ•°æ®åº“é…ç½®

### MySQLé…ç½®

1. **åˆ›å»ºæ•°æ®åº“**
```sql
CREATE DATABASE inventory_management CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci;
```

2. **åˆ›å»ºç”¨æˆ·**
```sql
CREATE USER 'inventory_user'@'%' IDENTIFIED BY 'inventory_pass';
GRANT ALL PRIVILEGES ON inventory_management.* TO 'inventory_user'@'%';
FLUSH PRIVILEGES;
```

3. **ç¯å¢ƒå˜é‡é…ç½®**
```bash
DATABASE_URL=mysql+pymysql://inventory_user:inventory_pass@localhost:3306/inventory_management
```

### æ•°æ®åº“åˆå§‹åŒ–

```bash
# åˆ›å»ºæ‰€æœ‰è¡¨
python -m flask init-db

# å¡«å……ç¤ºä¾‹æ•°æ®
python -m flask seed-data

# åˆ›å»ºç®¡ç†å‘˜ç”¨æˆ·
python -m flask create-admin
```

## ğŸ”§ ç¯å¢ƒé…ç½®

### å¿…éœ€çš„ç¯å¢ƒå˜é‡

```bash
# åº”ç”¨é…ç½®
FLASK_ENV=development
SECRET_KEY=your-secret-key-change-in-production
API_KEY=your-api-key-change-in-production

# æ•°æ®åº“é…ç½®
DATABASE_URL=mysql+pymysql://user:pass@host:3306/db

# æ—¥å¿—é…ç½®
LOG_LEVEL=INFO
LOG_FILE=logs/inventory_service.log
```

### å¯é€‰çš„ç¯å¢ƒå˜é‡

```bash
# Redisé…ç½®ï¼ˆå¦‚æœä½¿ç”¨ï¼‰
REDIS_URL=redis://localhost:6379/0

# é‚®ä»¶é…ç½®
MAIL_SERVER=smtp.gmail.com
MAIL_PORT=587
MAIL_USE_TLS=true
MAIL_USERNAME=your-email@gmail.com
MAIL_PASSWORD=your-app-password

# è·¨åŸŸé…ç½®
CORS_ORIGINS=http://localhost:3000,http://localhost:8080
```

## ğŸ“± è®¿é—®æœåŠ¡

### Webç•Œé¢

- **ä¸»é¡µ**: http://localhost:5000
- **ç”˜ç‰¹å›¾**: http://localhost:5000/gantt
- **è®¾å¤‡ç®¡ç†**: http://localhost:5000/devices
- **ç§Ÿèµç®¡ç†**: http://localhost:5000/rentals

### APIæ¥å£

- **APIæ–‡æ¡£**: http://localhost:5000/api/docs
- **å¥åº·æ£€æŸ¥**: http://localhost:5000/health
- **åº“å­˜æŸ¥è¯¢**: http://localhost:5000/api/inventory/available

### é»˜è®¤è´¦æˆ·

- **ç”¨æˆ·å**: admin
- **å¯†ç **: admin123

## ğŸ› ï¸ å¼€å‘æ¨¡å¼

### è®¾ç½®å¼€å‘ç¯å¢ƒ

```bash
export FLASK_ENV=development
export FLASK_DEBUG=1
export DATABASE_URL=mysql+pymysql://root:password@localhost:3306/inventory_management
```

### è¿è¡Œæµ‹è¯•

```bash
# è¿è¡Œæ‰€æœ‰æµ‹è¯•
python -m pytest tests/

# è¿è¡Œç‰¹å®šæµ‹è¯•
python -m pytest tests/test_inventory.py -v

# ç”Ÿæˆè¦†ç›–ç‡æŠ¥å‘Š
python -m pytest tests/ --cov=app --cov-report=html
```

### ä»£ç æ ¼å¼åŒ–

```bash
# æ ¼å¼åŒ–ä»£ç 
black app/
isort app/

# æ£€æŸ¥ä»£ç è´¨é‡
flake8 app/
```

## ğŸ” æ•…éšœæ’é™¤

### å¸¸è§é—®é¢˜

1. **æ•°æ®åº“è¿æ¥å¤±è´¥**
   - æ£€æŸ¥MySQLæœåŠ¡æ˜¯å¦è¿è¡Œ
   - éªŒè¯æ•°æ®åº“è¿æ¥å­—ç¬¦ä¸²
   - ç¡®è®¤ç”¨æˆ·æƒé™

2. **ç«¯å£è¢«å ç”¨**
   - æ£€æŸ¥5000ç«¯å£æ˜¯å¦è¢«å ç”¨
   - ä½¿ç”¨ `lsof -i :5000` æŸ¥çœ‹å ç”¨è¿›ç¨‹
   - ä¿®æ”¹ç«¯å£æˆ–åœæ­¢å ç”¨è¿›ç¨‹

3. **ä¾èµ–å®‰è£…å¤±è´¥**
   - å‡çº§pip: `pip install --upgrade pip`
   - ä½¿ç”¨è™šæ‹Ÿç¯å¢ƒ
   - æ£€æŸ¥Pythonç‰ˆæœ¬ï¼ˆéœ€è¦3.8+ï¼‰

4. **æƒé™é—®é¢˜**
   - ç¡®ä¿æœ‰å†™å…¥logså’Œuploadsç›®å½•çš„æƒé™
   - æ£€æŸ¥æ–‡ä»¶æƒé™è®¾ç½®

### æ—¥å¿—æŸ¥çœ‹

```bash
# åº”ç”¨æ—¥å¿—
tail -f logs/inventory_service.log

# è®¿é—®æ—¥å¿—
tail -f logs/access.log

# Dockeræ—¥å¿—
docker-compose logs -f app
```

### å¥åº·æ£€æŸ¥

```bash
# æ£€æŸ¥æœåŠ¡çŠ¶æ€
curl http://localhost:5000/health

# æ£€æŸ¥æ•°æ®åº“è¿æ¥
python -c "
from app import create_app, db
app = create_app()
with app.app_context():
    db.session.execute('SELECT 1')
    print('æ•°æ®åº“è¿æ¥æ­£å¸¸')
"
```

## ğŸ“Š æ€§èƒ½ä¼˜åŒ–

### ç”Ÿäº§ç¯å¢ƒé…ç½®

1. **ä½¿ç”¨Gunicorn**
```bash
gunicorn --bind 0.0.0.0:5000 --workers 4 --worker-class gevent app:app
```

2. **å¯ç”¨ç¼“å­˜**
```bash
# å®‰è£…Redis
pip install redis

# é…ç½®ç¼“å­˜
CACHE_TYPE=redis
REDIS_URL=redis://localhost:6379/0
```

3. **æ•°æ®åº“è¿æ¥æ± **
```bash
# åœ¨config.pyä¸­é…ç½®
SQLALCHEMY_ENGINE_OPTIONS = {
    'pool_size': 20,
    'pool_recycle': 3600,
    'pool_pre_ping': True
}
```

### ç›‘æ§å’Œæ—¥å¿—

1. **æ—¥å¿—è½®è½¬**
```bash
# é…ç½®logrotate
/var/log/inventory_service/*.log {
    daily
    rotate 30
    compress
    delaycompress
    missingok
    notifempty
    create 644 app app
}
```

2. **æ€§èƒ½ç›‘æ§**
```bash
# å®‰è£…æ€§èƒ½ç›‘æ§å·¥å…·
pip install flask-profiler

# åœ¨åº”ç”¨ä¸­å¯ç”¨
from flask_profiler import Profiler
profiler = Profiler()
profiler.init_app(app)
```

## ğŸ” å®‰å…¨é…ç½®

### ç”Ÿäº§ç¯å¢ƒå®‰å…¨è®¾ç½®

1. **ä¿®æ”¹é»˜è®¤å¯†é’¥**
```bash
# ç”Ÿæˆå¼ºå¯†é’¥
python -c "import secrets; print(secrets.token_hex(32))"

# è®¾ç½®ç¯å¢ƒå˜é‡
SECRET_KEY=your-generated-secret-key
API_KEY=your-generated-api-key
```

2. **å¯ç”¨HTTPS**
```bash
# é…ç½®SSLè¯ä¹¦
# ä½¿ç”¨Nginxåå‘ä»£ç†
# è®¾ç½®å®‰å…¨å¤´
```

3. **è®¿é—®æ§åˆ¶**
```bash
# é™åˆ¶APIè®¿é—®
# è®¾ç½®IPç™½åå•
# å¯ç”¨é€Ÿç‡é™åˆ¶
```

## ğŸ“ˆ æ‰©å±•éƒ¨ç½²

### è´Ÿè½½å‡è¡¡

```bash
# ä½¿ç”¨Nginxè´Ÿè½½å‡è¡¡
upstream inventory_backend {
    server 127.0.0.1:5000;
    server 127.0.0.1:5001;
    server 127.0.0.1:5002;
}
```

### é›†ç¾¤éƒ¨ç½²

```bash
# ä½¿ç”¨Docker Swarm
docker swarm init
docker stack deploy -c docker-compose.yml inventory

# ä½¿ç”¨Kubernetes
kubectl apply -f k8s/
```

## ğŸ“ æŠ€æœ¯æ”¯æŒ

å¦‚æœé‡åˆ°é—®é¢˜ï¼Œè¯·ï¼š

1. æŸ¥çœ‹æ—¥å¿—æ–‡ä»¶
2. æ£€æŸ¥ç¯å¢ƒé…ç½®
3. éªŒè¯æ•°æ®åº“è¿æ¥
4. å‚è€ƒæ•…éšœæ’é™¤éƒ¨åˆ†
5. æäº¤Issueåˆ°é¡¹ç›®ä»“åº“

## ğŸ“ æ›´æ–°æ—¥å¿—

### v1.0.0
- åˆå§‹ç‰ˆæœ¬å‘å¸ƒ
- æ”¯æŒç”˜ç‰¹å›¾ç•Œé¢
- å®Œæ•´çš„CRUDæ“ä½œ
- RESTful API
- Dockeræ”¯æŒ
